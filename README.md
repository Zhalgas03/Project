# Environmental Monitoring

## Introduction

### Problem Description
The rapid adoption of Internet of Things (IoT) devices has resulted in an exponential increase in data generation. These devices produce vast amounts of data, creating a need for efficient systems to manage and analyze this big data. Traditional data management systems often struggle with the high volume, velocity, and variety of IoT data.

### Project Objective
This project aims to develop an integrated system using the MQTT (Message Queuing Telemetry Transport) protocol and Python to receive, process, and store data from IoT sensors. The system will route the data to different types of databases (SQL, MongoDB, and Neo4j) based on the content of the MQTT messages, creating a scalable and efficient infrastructure for real-time data handling.

## Implementation of MQTT Server

### Selecting an MQTT Server
For this project, we chose HiveMQ, a reliable and scalable MQTT broker, to handle the data transmission from IoT devices. HiveMQ offers a robust platform that supports MQTT communication effectively, making it suitable for handling the high volume of data generated by IoT sensors.

### Server Configuration
The MQTT server is configured to receive data from IoT devices on a specific topic. The settings, such as the broker address, port, and topic, are defined in the project's configuration file. This ensures that the MQTT server can properly receive and forward messages from the IoT devices to the Python application.
/python/settings.py

## Python Application Development

### Using the Paho MQTT Library
The Paho MQTT library in Python is used to develop an application that connects to the MQTT server and subscribes to specific topics. This library provides a client class that enables applications to connect to an MQTT broker to publish messages, and subscribe to topics. The utility module includes functions for generating sensor data and setting up the MQTT client. The `utils.py` module contains utility functions for generating sensor data and setting up the MQTT client. /python/utils.py

### Data Processing
The data processing logic involves transforming MQTT messages into formats suitable for storage in different databases. Once the data is received from the MQTT broker, it is parsed and processed to ensure it is in the correct format for each database type (SQL, MongoDB, and Neo4j). This step is crucial for ensuring data integrity and making the data usable for analysis.

## Database Integration

### Database Selection
The project uses three types of databases:
1. SQL: MySQL is used for structured data storage, where relationships between data elements are clearly defined and enforceable through schemas.
2. MongoDB: This NoSQL database is used for flexible document-oriented storage, allowing for storage of complex data structures and unstructured data.
3. Neo4j: A graph database used for storing data with complex relationships, ideal for scenarios where the connections between data points are as important as the data itself.

### Connection to Databases
The connections to different databases are implemented using specific libraries:
- `mysql.connector` for MySQL
- `pymongo` for MongoDB
- `neo4j` for Neo4j

These libraries provide the necessary methods to connect to the databases, execute queries, and handle data transactions. The configuration for each database, such as connection URI, authentication details, and database names, are specified in the settings file.

### Data Writing
The logic for writing data to respective databases is based on the topic of the MQTT messages. Each type of data is directed to the appropriate database. For example, sensor data like temperature, humidity, and air quality is stored in the SQL database, while more complex or unstructured data might be stored in MongoDB or Neo4j.

## Conclusions

### Summary of Results
The project successfully developed an integrated system using MQTT and Python to receive, process, and store IoT sensor data in different databases. The system demonstrated efficient handling of large volumes of data and provided flexibility in data storage options. It effectively utilized the strengths of different database platforms to store and manage IoT data.

